var dataSet = [
  {
    coin_name: "Bitcoin",
    coin_short_name: "BTC",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Ethereum",
    coin_short_name: "ETH",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Ethereum",
    coin_short_name: "ETH",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
  {
    coin_name: "Avalanche",
    coin_short_name: "AVAX",
    price: "$999.999,99",
    price_change: "+120,23%",
    volume: "$557.524,05M",
    market_cap: "$557.524,05M",
  },
];

var ICRYPEX = (function () {
  "use strict";
  var hideTableColumns = false;

  function buildCarousels() {
    $("#video-carousel").owlCarousel({
      loop: false,
      items: 2,
      margin: 24,
      dots: true,
      navText: [
        '<i class="icon-arrow-left-1 fs-5xl"></i>',
        '<i class="icon-arrow-right-1 fs-5xl"></i>',
      ],
      responsive: {
        0: {
          items: 1,
        },
        768: {
          items: 2,
          stagePadding: 16,
          nav: true,
        },
      },
    });
  }

  function buildDataTables() {
    var table = $("#market_datatable").DataTable({
      data: dataSet,
      columnDefs: [
        {
          targets: 0,
          width: "10",
          orderable: false,
          render: function (data, type, row, meta) {
            return '<a href="#"><i class="icon-star-1 text-blue-900"></i></a>';
          },
        },
        {
          targets: 1,
          render: function (data, type, row, meta) {
            return (
              '<span><img class="me-1" src="media/icon/icon-bitcoin.svg" />' +
              '<span class="align-middle">' +
              data.coin_short_name +
              "</span></span>"
            );
          },
        },
        {
          targets: 2,
          orderable: false,
          render: function (data, type, row, meta) {
            return (
              '<span class="fs-sm fw-400 text-black-500">' +
              data.coin_name +
              "</span>"
            );
          },
        },
        {
          targets: 4,
          render: function (data, type, row, meta) {
            return (
              '<span class="text-success">' + data.price_change + "</span>"
            );
          },
        },
        {
          targets: 7,
          width: "100",
          orderable: false,
          render: function (data, type, row, meta) {
            return '<div class="text-end"><button class="btn btn-primary">Hemen Al</button></div>';
          },
        },
      ],
      columns: [
        { data: null, title: "" },
        { data: null, title: "Coin" },
        { data: null, title: "" },
        { data: null, title: "Fiyat", render: "price" },
        { data: null, title: "Değişim" },
        { data: null, title: "Hacim", render: "volume" },
        { data: null, title: "Değer", render: "market_cap" },
        { data: null, title: "" },
      ],
      info: false,
      lengthChange: false,
      searching: true,
      zeroRecords: "Nothing found - sorry",
      infoEmpty: "No records available",
      dom: "lrtip",
      lengthMenu: [15],
      language: {
        paginate: {
          previous: '<i class="icon-arrow-left-1 fs-xxl"></i>',
          next: '<i class="icon-arrow-right-1 fs-xxl"></i>',
        },
      },
      initComplete: function () {
        $(this.api().table().container())
          .find(".disabled")
          .css("display", "none");
      },
    });

    table.on("draw", function () {
      $(table.table().container()).find(".disabled").css("display", "none");
    });

    $("#datatable_search_input").on("keyup", function () {
      table.search(this.value).draw();
    });

    $(window).on("load resize", function () {
      if ($(window).width() < 992 && !hideTableColumns) {
        hideTableColumns = true;
        table.columns([0, 5, 6, 7]).visible(false);
      }
      if ($(window).width() > 992 && hideTableColumns) {
        hideTableColumns = false;
        table.columns([0, 5, 6, 7]).visible(true);
      }
    });
  }

  return {
    init: function () {
      buildCarousels();
      buildDataTables();
    },
  };
})();

$(document).ready(function () {
  ICRYPEX.init();
});
